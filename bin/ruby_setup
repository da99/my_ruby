#!/usr/bin/env bash
# -*- bash -*-
#
#
ACTION="$1"
shift

set -u -e -o pipefail
DIR="$( basename "$(pwd)" )"
TEMPLATES="/apps/ruby_setup/templates/gem"

# PATH="/progs/ruby/current/bin:$PATH"

function git_is_clean {
    if ! git_setup is-clean
    then
      echo -e "\n!!! GIT repo not clean enough.\n" 1>&2
      exit 1
    fi
}


case "$ACTION" in

  help|--help|-h)
    PATH="$PATH:$THIS_DIR/../mksh_setup/bin"
    mksh_setup print-help $0 "$@"
    ;;

  *)
    file="$( echo node_modules/*/bin/$ACTION )"
    if [[ -f "$file"  ]]; then
      $file "$@"
      exit 0
    fi

    echo "Unknown action: $ACTION" 1>&2
    exit 1
    ;;
esac


